# 지독해 웹서비스 - 기술 스택 및 개발 로드맵

---

## 1. 개요

이 문서는 지독해 웹서비스의 기술 스택 선정 근거와 단계적 개발 로드맵을 정의합니다.

**개발 방식:** AI 코딩 에이전트 활용 (Cursor, Claude Code 등)
**유지보수:** AI 에이전트 활용
**목표:** MVP 개발 후 앱 확장, 회원 5,000명까지 대응 가능한 구조

---

## 2. 기술 스택 선정 기준

| 기준 | 설명 |
|------|------|
| AI 에이전트 친화성 | 코딩 에이전트가 잘 다루는 검증된 기술, 레퍼런스 풍부 |
| 앱 확장성 | 추후 iOS/Android 앱 전환이 용이한 구조 |
| 확장성 | 회원 1,000~5,000명까지 대응 가능 |
| 유지보수 용이성 | AI로 유지보수할 때 복잡하지 않은 구조 |
| 생태계 | 문서, 커뮤니티, 레퍼런스가 풍부함 |
| 비용 효율 | 무료로 시작, 성장에 따라 점진적 비용 증가 |

---

## 3. 기술 스택 상세

### 3.1 프론트엔드

#### Next.js 14 (React 기반)

**선정 이유:**
- AI 에이전트가 가장 잘 다루는 프레임워크 (레퍼런스 풍부)
- 서버 사이드 렌더링(SSR)으로 SEO 좋음 → 후킹 랜딩페이지에 유리
- React Native로 앱 전환 시 컴포넌트/로직 재사용 가능
- Vercel 배포 최적화

#### Tailwind CSS

**선정 이유:**
- AI 에이전트가 가장 잘 생성하는 CSS 방식
- 모바일 반응형 구현이 쉬움
- 브랜드 톤(따뜻함 + 고급스러움) 커스터마이징 용이

#### Framer Motion (애니메이션)

**선정 이유:**
- React 기반 선언적 애니메이션 라이브러리
- AI 에이전트가 다루기 쉬운 직관적 API
- Stagger, 물리 기반 스프링 등 고급 효과 지원
- 번들 크기 최적화 (tree-shaking 지원)
- 커뮤니티 레퍼런스 풍부

**사용 범위:**
- 페이지 전환 및 카드 리스트 Stagger 효과
- 마이크로 인터랙션 (호버, 클릭 피드백)
- 게이미피케이션 효과 (배지 획득 Confetti, 칭찬 애니메이션)
- 상태 표시 (마감임박 Pulse, 프로그레스 바)

---

### 3.2 백엔드 & 데이터베이스

#### Supabase (PostgreSQL 기반 BaaS)

**선정 이유:**
- PostgreSQL 기반으로 복잡한 쿼리/관계형 데이터 처리 가능
- 인증(카카오 로그인) 내장 지원
- 실시간 구독 기능 → 참가 인원 실시간 업데이트에 활용
- Row Level Security로 권한 관리 용이
- REST API 자동 생성 → 개발 속도 빠름
- AI 에이전트가 다루기 쉬운 구조
- 싱가포르 리전 사용 가능 (한국에서 빠름)

**Firebase 대신 Supabase를 선택한 이유:**
- 복잡한 데이터 관계 (회원-모임-신청-칭찬 등) → 관계형 DB가 유리
- 부분 환불 계산, 통계 쿼리 → SQL이 훨씬 편함
- 마이그레이션/확장성 → PostgreSQL이 표준이라 이동 쉬움

---

### 3.3 결제 (PG사)

#### 포트원 (구 아임포트)

**선정 이유:**
- 여러 PG사(카카오페이, 토스페이먼츠 등)를 하나의 API로 통합
- 부분 환불 API 지원 → 환불 자동화 핵심
- 간이과세자 계약 가능
- 전자상거래 소매업 업종으로 심사 문제 없음
- 문서/레퍼런스 풍부 → AI 에이전트 개발에 유리
- 월 기본료 없음, 건당 수수료만

**실제 결제 처리:**
- 카카오페이 또는 토스페이먼츠 (포트원 통해 연동)
- 수수료: 약 2.5~3.5% (카드 결제 기준)

---

### 3.4 알림톡

#### 솔라피 (Solapi)

**선정 이유:**
- 카카오 알림톡 API 연동 쉬움
- 건당 비용 저렴 (약 7~9원)
- 템플릿 관리 기능
- REST API 문서 잘 되어 있음 → AI 에이전트 연동 쉬움
- 소규모 서비스에 적합

**대안:** NHN Cloud 알림톡 (월 10만 건 이상 시)

**솔라피 → NHN Cloud 전환 시:**
- 카카오 채널: 동일하게 사용 (변경 없음)
- 알림톡 템플릿: 카카오 비즈니스에서 관리 → 그대로 유지
- 코드 수정 범위: 알림 발송 모듈 1곳만 수정
- 전환 용이성: 알림 서비스 추상화 개발 시 30분 내 전환 가능

---

### 3.5 배포 & 인프라

#### Vercel (프론트엔드/API)

**선정 이유:**
- Next.js 공식 배포 플랫폼 (최적화)
- 자동 SSL 인증서
- 글로벌 CDN → 빠른 로딩
- GitHub 연동 자동 배포
- 무료 티어로 시작 가능, 트래픽 늘면 Pro 플랜

#### Supabase (데이터베이스/인증)
- 무료 티어: 500MB 스토리지, 월 50,000 인증
- Pro 플랜: 월 $25 (8GB, 무제한 인증)

---

### 3.6 기타

| 항목 | 선택 | 비고 |
|------|------|------|
| 도메인 | brainy-club.com | 보유 중 |
| SSL | Vercel 자동 제공 | 무료, 자동 갱신 |
| 이미지 저장 | Supabase Storage | 통합 관리 |
| 모니터링 | Vercel Analytics | 기본 제공 |

---

## 4. 기술 스택 요약

| 레이어 | 기술 | 월 비용 |
|--------|------|---------|
| 프론트엔드 | Next.js 14 + Tailwind CSS | - |
| 애니메이션 | Framer Motion | - |
| 백엔드/DB | Supabase (PostgreSQL) | 무료 → $25 |
| 인증 | Supabase Auth (카카오 로그인) | 포함 |
| 결제 | 포트원 + 카카오페이/토스 | 건당 수수료만 |
| 알림톡 | 솔라피 | 건당 ~9원 |
| 배포 | Vercel | 무료 → $20 |
| 도메인 | brainy-club.com | 연 ~2만원 |

---

## 5. 예상 비용

### MVP 단계 (무료~5만원/월)

| 항목 | 비용 |
|------|------|
| Vercel | 무료 |
| Supabase | 무료 |
| 솔라피 | 약 1~2만원 (월 2,000건 기준) |
| 도메인 | 연 2만원 |
| **합계** | **약 1~2만원/월** |

### 정식 운영 (5~10만원/월)

| 항목 | 비용 |
|------|------|
| Vercel Pro | $20 (~2.7만원) |
| Supabase Pro | $25 (~3.4만원) |
| 솔라피 | 약 2~3만원 (월 5,000건 기준) |
| 도메인 | 연 2만원 |
| **합계** | **약 8~10만원/월** + 결제 수수료 |

---

## 6. 개발 로드맵

### 6.1 전체 로드맵 개요

```
Phase 0: 기반 구축 (결제/알림 없이 동작 확인)
    ↓
Phase 1: 핵심 흐름 완성 (신청 → 결제 → 환불)
    ↓
Phase 2: 연결 유지 (알림톡, 리마인드)
    ↓
Phase 3: 소속감 강화 (배지, 칭찬, 후기, 책장)
    ↓
Phase 4: 운영 효율화 (대시보드, 권한 관리)
    ↓
Phase 5: 신규 회원 & 안정화 → 정식 출시
```

---

### 6.2 Phase 0: 기반 구축

**목표:** 기본 인프라 세팅, 핵심 화면 확인

**적용 기술:**
- Next.js 14 + Tailwind CSS
- Supabase (DB + 이메일/비밀번호 인증만)
- Vercel 배포

**구현 범위:**
- 회원가입/로그인 (이메일/비밀번호만, 카카오는 Phase 1)
- 홈 화면 (배너, 일정 카드 목록)
- 모임 상세 페이지 (정보 표시만, 신청 버튼은 비활성)
- 마이페이지 기본 (내 정보)
- 운영자: 모임 생성/수정/삭제

**검증 포인트:**
- 컴팩트 카드 UI가 의도대로 보이는가?
- 모바일에서 잘 동작하는가?
- 기본 데이터 흐름이 정상인가?

**예상 기간:** 1~2주

---

### 6.3 Phase 1: 핵심 흐름 완성

**목표:** "신청 → 결제 → 취소 → 환불" 전체 흐름 동작

**추가 기술:**
- Supabase Auth 카카오 로그인 연동
- 포트원 결제 연동

**구현 범위:**
- 카카오 로그인
- 모임 신청 + 결제 (카카오페이 or 토스)
- 취소 + 자동 환불 (환불 규정 적용)
- 취소 사유 입력
- 대기 신청 (결제 없이 대기만)
- 대기자 자리 발생 시 → 수동 알림 (알림톡은 Phase 2)
- 참가 인원 표시 ("O명 참여", 정원 숨김)

**검증 포인트:**
- 결제 → 환불 흐름이 정상 동작하는가?
- 부분 환불(50%)이 제대로 계산되는가?
- 대기 → 자리 발생 → 신청 전환이 되는가?

**테스트:** Alpha 테스트 (운영자 + 친한 회원 3~5명)

**예상 기간:** 2~3주

---

### 6.4 Phase 2: 연결 유지 (알림)

**목표:** 회원이 모임을 잊지 않게

**추가 기술:**
- 솔라피 알림톡 연동

**구현 범위:**
- 알림톡 발송 모듈 (추상화 - 나중에 서비스 교체 용이하게)
- 모임 리마인드 (3일 전, 1일 전, 당일) - 자동
- 대기자 자리 발생 알림 - 자동
- 응답 대기 시간 로직 (24시간/6시간/2시간)
- 월말 참여 독려 알림 - 자동
- 운영자 수동 알림 발송 (공지용)

**검증 포인트:**
- 알림톡이 제때 발송되는가?
- 대기자 순차 알림이 정상 동작하는가?

**예상 기간:** 1~2주

---

### 6.5 Phase 3: 소속감 강화

**목표:** "나는 지독해 회원"이라는 느낌

**구현 범위:**
- 참여 완료 판단 (3일 후 알림 → 칭찬/참여확인/후기 선택)
- 7일 미응답 → 자동 완료
- 칭찬하기 (익명, 선택 문구 5개, 3개월 중복 불가)
- 건의하기
- 후기 남기기 (공개 동의 옵션)
- 참가자 목록 (칭찬 10개 이상 우선, 흐릿하게)
- 배지 시스템 (첫 참여, 10회, 연속 4주)
- 마이페이지 강화 (총 참여, 연속 참여, "함께한 지 OOO일째")
- 정기모임 자격 상태 + 6개월 임박 알림
- 내 책장 (책 등록, 한 문장 기록)

**검증 포인트:**
- 칭찬이 쌓이고, 배지가 부여되는가?
- 참가자 목록이 의도대로 보이는가?

**예상 기간:** 2~3주

---

### 6.6 Phase 4: 운영 효율화

**목표:** 운영자 부담 최소화

**구현 범위:**
- 대시보드 (참가 현황, 수입, 환불 내역, 재참여율)
- 노쇼 "미참여" 처리
- 알림 템플릿 관리 (문구/시점 수정, on/off)
- 운영자 권한 관리 (권한 선택적 부여)
- 요청함 (문의 확인 + 답변)
- 배너 관리

**검증 포인트:**
- 대시보드 숫자가 정확한가?
- 다른 운영자에게 권한 부여가 되는가?

**예상 기간:** 2주

---

### 6.7 Phase 5: 신규 회원 & 안정화

**목표:** 신규 유입 + 출시 준비

**구현 범위:**
- 후킹 랜딩페이지 (공개 동의한 후기 표시)
- 신규 회원 안내 팝업 ("지독해가 어떤 곳인지 먼저 보시는 걸 추천해요.")
- 첫 모임 전날 환영 알림
- 첫 모임 후 후기 요청 + 다음 모임 안내
- 정기모임 자격 미충족 시 안내/유도
- 버그 수정, 성능 최적화

**테스트:** Beta 테스트 (활성 회원 20~30명) → 정식 출시

**예상 기간:** 2주

---

### 6.8 Phase 6: 회원 참여 확장 (2차 개발)

MVP 안정화 후 진행. 상세 스펙은 PRD v2.0에서 정의 예정.

**예정 기능:**
- 진행자 시스템: 정기모임 자율 운영을 위한 진행자 선정/알림
- 오늘의 지독해: 홈 화면 활동 피드

**구현 가능 여부:** ✅ 현재 구조로 모두 구현 가능

---

## 7. 타임라인 요약

| Phase | 내용 | 기간 | 누적 |
|-------|------|------|------|
| 0 | 기반 구축 | 1~2주 | 2주 |
| 1 | 핵심 흐름 (결제/환불) | 2~3주 | 5주 |
| 2 | 알림톡 연동 | 1~2주 | 7주 |
| 3 | 소속감 (배지/칭찬/후기/책장) | 2~3주 | 10주 |
| 4 | 운영자 기능 | 2주 | 12주 |
| 5 | 신규 회원 & 안정화 | 2주 | 14주 |
| 6 | 회원 참여 확장 (진행자/소식) | 2~3주 | - |

**예상 총 기간:** 약 3~4개월

---

## 8. 테스트 전략

| 시점 | 테스트 유형 | 대상 |
|------|-------------|------|
| Phase 1 완료 | Alpha | 운영자 + 친한 회원 3~5명 |
| Phase 3 완료 | Beta | 활성 회원 20~30명 |
| Phase 5 완료 | 정식 출시 | 전체 회원 |

---

## 9. 확장 시 기술 전환 가이드

| 상황 | 현재 | 전환 대상 | 난이도 |
|------|------|----------|--------|
| 알림량 월 10만 건 이상 | 솔라피 | NHN Cloud 알림톡 | 쉬움 (모듈 교체) |
| 회원 5,000명 이상 | Supabase Pro | 자체 PostgreSQL | 중간 |
| 앱 출시 | Next.js (웹) | React Native | 중간 (백엔드 그대로) |
| 트래픽 급증 | Vercel 무료 | Vercel Pro + Edge | 쉬움 |

---

## 10. 개발 시 주의사항

### AI 에이전트에게 전달할 원칙

1. **알림 서비스 추상화:** 알림 발송 로직을 별도 모듈로 분리하여 나중에 솔라피 → NHN Cloud 등으로 쉽게 교체 가능하게

2. **환불 규정 유연성:** 환불 규정을 하드코딩하지 않고, 모임 유형별로 DB에서 관리 (정기모임: 3일/2일, 토론모임: 2주/7일)

3. **권한 관리 확장성:** 운영자 권한을 role 기반으로 설계하여 추후 권한 추가 용이하게

4. **실시간 업데이트:** 참가 인원 등 실시간 변경이 필요한 데이터는 Supabase Realtime 활용

5. **모바일 우선:** 모든 UI는 모바일 먼저 디자인 후 데스크톱 확장

---

## 11. 사업자 정보 (PG 계약용)

| 항목 | 내용 |
|------|------|
| 상호 | 지독해 |
| 사업자등록번호 | 494-42-01276 |
| 업태 | 도매 및 소매업 |
| 종목 | 전자상거래 소매업, 전자상거래 소매 중개업 |
| 과세 유형 | 간이과세자 |
| 개업일 | 2025년 10월 7일 |

---

## 변경 이력

| 날짜 | 버전 | 변경 내용 |
|------|------|----------|
| 2025-01-07 | 1.0 | 기술 스택 및 개발 로드맵 최초 작성 |
| 2025-01-07 | 1.1 | Phase 3 업데이트: 후기 남기기 추가, 내 책장에 한 문장 기록 추가 |
| 2025-01-09 | 1.2 | Phase 6 (2차 개발) 추가 - 진행자 시스템, 오늘의 지독해 |
| 2026-01-15 | 1.3 | Framer Motion 추가 (애니메이션 라이브러리), 디자인 시스템 원칙 반영 |
| 2026-01-28 | 1.4 | §6.8 2차 개발 상세 스펙 간소화 (PRD v2.0으로 이동 예정) |


