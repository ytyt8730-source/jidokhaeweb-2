# AI 에이전트 가이드 (메타 문서)

> **버전**: 2.0  
> **마지막 업데이트**: 2026-01-17  
> **용도**: AI 에이전트가 프로젝트 문서를 **어떻게 따라야 하는지** 정의

---

## 1. 이 문서의 목적

이 프로젝트에는 여러 폴더에 README와 가이드 문서가 흩어져 있습니다.  
이 문서는 **"어떤 상황에서 어떤 문서를 따라야 하는지"**를 정의하는 **메타 가이드**입니다.

```
문서를 읽는 법을 알려주는 문서
```

---

## 2. 문서 계층 구조

```
/CLAUDE.md                    ← 코드 작성 규칙 (기술적)
    │
/core/AI_AGENT_GUIDE.md       ← 이 문서 (메타 규칙)
    │
    ├── /core/*.md            ← 기획 문서 (What, Why)
    ├── /roadmap/             ← 작업 계획 (When, How much)
    ├── /docs/                ← 기술 문서 (How)
    ├── /log/                 ← 작업 기록 (What happened)
    └── /jidokhae/            ← 소스 코드
```

---

## 3. 폴더별 README 역할

| 폴더 | README 위치 | 정의하는 것 |
|------|-------------|-------------|
| `/log/` | `/log/README.md` | 로그 파일 명명 규칙, 템플릿, 줄 수 제한 |
| `/docs/` | `/docs/README.md` | 기술 문서 구조, 문서 관리 원칙 |
| `/jidokhae/` | `/jidokhae/README.md` | 프로젝트 개요, 실행 방법, 폴더 구조 |
| `/roadmap/` | (없음) | `milestones.md`가 대신함 |
| `/core/` | (없음) | 이 문서가 대신함 |

---

## 4. 상황별 참조 문서

### 4.1 작업 시작 전

```
1. /log/current-state.md         ← 현재 어디까지 했는지
2. /roadmap/work-packages/WP-M*.md ← 해야 할 작업 목록
3. /roadmap/scenarios/SC-M*.md   ← 테스트 시나리오
```

### 4.2 코드 작성 중

```
1. /CLAUDE.md                    ← 코드 컨벤션, API 패턴, 폴더 구조
2. /docs/external-services.md    ← 외부 서비스 연동 시
3. /docs/troubleshooting-patterns.md ← 문제 발생 시
```

### 4.3 기획 확인 필요 시

```
1. /core/1__PRD_v1.4.md          ← 기능 상세, 비즈니스 규칙
2. /core/0__서비스_개요_v1.3.md  ← 핵심 가치, 사용자 흐름
3. /core/3__시스템_구조_v1.3.md  ← 데이터 흐름, 테이블 설계
```

### 4.4 작업 완료 후

```
1. /log/README.md                ← 로그 작성 규칙 확인
2. /log/current-state.md         ← 현재 상태 업데이트
3. WP-M*-완료-로그.md 작성       ← 템플릿 따라 작성
4. Git 커밋 + 푸시             ← /docs/git-workflow.md 규칙 따름
```

### 4.5 Git 작업 시

```
1. /docs/git-workflow.md         ← 브랜치/커밋/푸시 규칙
2. /CLAUDE.md (Git 섹션)       ← 빠른 참조
```

---

## 5. README 준수 규칙

### 5.1 `/log/README.md` 준수사항

| 규칙 | 설명 |
|------|------|
| 파일 명명 | `WP-M[번호]-[작업명]-완료-로그.md` |
| 줄 수 제한 | **100~200줄 이내** |
| 코드 기록 | **금지** - 파일 경로만 기록 |
| 필수 업데이트 | 작업 종료 시 `current-state.md` 반드시 업데이트 |

### 5.2 `/docs/README.md` 준수사항

| 규칙 | 설명 |
|------|------|
| ADR | 중요 기술 결정은 `/docs/adr/`에 기록 |
| 버전 관리 | 모든 문서에 버전 및 업데이트 날짜 기록 |
| 중복 방지 | 정보는 한 곳에서 관리, 다른 곳에서는 링크 |

### 5.3 `/jidokhae/README.md` 준수사항

| 규칙 | 설명 |
|------|------|
| 실행 방법 | 항상 최신 상태 유지 |
| 환경 변수 | `ENV_TEMPLATE.md` 참조 안내 |
| 마일스톤 | 완료 상태 현행화 |

---

## 6. 문서 간 우선순위

충돌 시 다음 순서로 우선:

```
1. /CLAUDE.md              ← 코드 컨벤션 (최우선)
2. /roadmap/work-packages/ ← 현재 작업의 구체적 요구사항
3. /core/*.md              ← 기획 의도
4. /docs/*.md              ← 기술 가이드
```

### 예시

| 충돌 상황 | 해결 |
|----------|------|
| WP에서 "버튼 빨간색" vs 디자인 시스템 "brand-500" | 디자인 시스템(CLAUDE.md) 우선 |
| PRD에서 "환불 3일 전" vs DB에 "2일 전" | DB 데이터 우선 (하드코딩 금지 원칙) |
| 로그 템플릿 vs 실제 필요 정보 | 템플릿 따르되, 필요시 섹션 추가 가능 |

---

## 7. 문서 수정 시 규칙

### 7.1 수정 가능한 문서

| 문서 | AI 수정 가능 | 조건 |
|------|:------------:|------|
| `/log/current-state.md` | ✅ | 작업 종료 시 필수 |
| `/log/WP-*-완료-로그.md` | ✅ | WP 완료 시 생성 |
| `/docs/troubleshooting-patterns.md` | ✅ | 새 패턴 발견 시 추가 |
| `/docs/external-services.md` | ✅ | 설정 변경 시 업데이트 |

### 7.2 수정 시 주의

| 문서 | 주의사항 |
|------|----------|
| `/core/*.md` | 기획 변경은 사용자 확인 후 |
| `/CLAUDE.md` | 코드 컨벤션 변경은 사용자 확인 후 |
| `/roadmap/milestones.md` | 마일스톤 구조 변경은 사용자 확인 후 |

### 7.3 수정 후 필수 작업

```
1. 버전 번호 증가 (있는 경우)
2. "마지막 업데이트" 날짜 갱신
3. 변경 이력 섹션에 기록 (있는 경우)
```

---

## 8. 새 문서 생성 시 규칙

### 8.1 위치 선택

| 문서 유형 | 위치 |
|----------|------|
| 작업 완료 로그 | `/log/` |
| 기술 결정 (ADR) | `/docs/adr/` |
| 트러블슈팅 | `/docs/troubleshooting-patterns.md`에 추가 |
| 새 WP | `/roadmap/work-packages/` |

### 8.2 필수 포함 요소

```markdown
> **버전**: 1.0
> **마지막 업데이트**: YYYY-MM-DD
> **용도**: [문서의 목적]
```

---

## 9. 빠른 참조

작업 중 빠른 정보가 필요하면:

→ [`/core/AI_QUICK_REFERENCE.md`](/core/AI_QUICK_REFERENCE.md)

코드 작성 규칙이 필요하면:

→ [`/CLAUDE.md`](/CLAUDE.md)

---

## 10. 요약

```
┌─────────────────────────────────────────────────────────────┐
│                    문서 참조 흐름                            │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  작업 시작 → current-state.md → WP 문서 → Scenario          │
│      │                                                       │
│      ▼                                                       │
│  코드 작성 → CLAUDE.md (컨벤션) → docs/ (기술 참조)          │
│      │                                                       │
│      ▼                                                       │
│  기획 확인 → core/*.md (PRD, 시스템 구조)                    │
│      │                                                       │
│      ▼                                                       │
│  작업 완료 → log/README.md 규칙 → current-state.md 업데이트  │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

---

## 변경 이력

| 날짜 | 버전 | 변경 내용 |
|------|------|----------|
| 2026-01-17 | 2.0 | 메타 가이드로 전면 재작성. 기존 내용은 AI_QUICK_REFERENCE.md로 분리 |
