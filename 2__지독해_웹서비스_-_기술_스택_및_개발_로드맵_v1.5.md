# 지독해 웹서비스 - 기술 스택 및 개발 로드맵 v1.7

---

**관련 문서:**
- 서비스 개요 v1.7
- PRD v1.9
- 시스템 구조 v1.8
- (디자인 시스템은 추후 새로 작성 예정)

---

## 1. 개요

이 문서는 지독해 웹서비스의 기술 스택 선정 근거와 단계적 개발 로드맵을 정의합니다.

**개발 방식:** AI 코딩 에이전트 활용 (Cursor, Claude Code 등)
**유지보수:** AI 에이전트 활용
**목표:** True MVP 5~6주 내 Alpha 출시, 검증 후 Growth Phase 확장
**디자인 기준:** 추후 디자인 시스템 신규 작성 예정. 현재는 본 문서의 색상/폰트 코드가 사실상의 기준.

---

## 2. 기술 스택 선정 기준

| 기준 | 설명 |
|------|------|
| AI 에이전트 친화성 | 코딩 에이전트가 잘 다루는 검증된 기술, 레퍼런스 풍부 |
| 앱 확장성 | 추후 iOS/Android 앱 전환이 용이한 구조 |
| 확장성 | 회원 1,000~5,000명까지 대응 가능 |
| 유지보수 용이성 | AI로 유지보수할 때 복잡하지 않은 구조 |
| 생태계 | 문서, 커뮤니티, 레퍼런스가 풍부함 |
| 비용 효율 | 무료로 시작, 성장에 따라 점진적 비용 증가 |

---

## 3. 기술 스택 상세

### 3.1 프론트엔드 (High-End UX Stack)

#### Next.js 14 + React 18

**선정 이유:**
- AI 에이전트가 가장 잘 다루는 프레임워크 (레퍼런스 풍부)
- 서버 사이드 렌더링(SSR)으로 SEO 좋음 → 후킹 랜딩페이지에 유리
- React Native로 앱 전환 시 컴포넌트/로직 재사용 가능
- Vercel 배포 최적화

#### next/font (폰트 최적화)

**도입 이유:**
- 자동 폰트 최적화 및 self-hosting
- CLS(Cumulative Layout Shift) 방지
- 외부 네트워크 요청 없이 빠른 로딩

**폰트 로딩 전략 (2종):**

| 폰트 | 용도 |
|------|------|
| **Outfit** | 헤드라인 |
| **Noto Sans KR** | 본문, UI 텍스트 |

**구현 코드:**
```javascript
// app/layout.tsx
import { Outfit, Noto_Sans_KR } from 'next/font/google'

const outfit = Outfit({ 
  subsets: ['latin'], 
  variable: '--font-outfit',
  display: 'swap'
})

const notoSansKr = Noto_Sans_KR({ 
  subsets: ['latin'], 
  weight: ['400', '500', '600', '700'],
  variable: '--font-noto-sans',
  display: 'swap'
})

export default function RootLayout({ children }) {
  return (
    <html className={`${outfit.variable} ${notoSansKr.variable}`}>
      <body>{children}</body>
    </html>
  )
}
```

#### Tailwind CSS (Styling)

**선정 이유:**
- AI 에이전트가 가장 잘 생성하는 CSS 방식
- 모바일 반응형 구현이 쉬움
- 브랜드 톤 커스터마이징 용이

**구현 코드:**
```typescript
// tailwind.config.ts
import type { Config } from "tailwindcss"

const config: Config = {
  content: [
    "./app/**/*.{ts,tsx}",
    "./components/**/*.{ts,tsx}",
  ],
  theme: {
    extend: {
      fontFamily: {
        display: ['var(--font-outfit)', 'var(--font-noto-sans)', 'sans-serif'],
        sans: ['var(--font-noto-sans)', 'system-ui', 'sans-serif'],
      },
      
      colors: {
        bg: {
          base: "#F8FAFC",
          surface: "#FFFFFF",
        },
        primary: "#0047FF",
        accent: "#CCFF00",
        "accent-readable": "#0F172A",
        text: {
          DEFAULT: "#0F172A",
          muted: "#64748B",
        },
        border: "#E2E8F0",
        overlay: "rgba(0, 0, 0, 0.5)",
        
        // 시맨틱 컬러 (고정값)
        success: "#10B981",
        warning: "#F59E0B",
        danger: "#EF4444",
        info: "#3B82F6",
      },
      
      borderRadius: {
        DEFAULT: '12px',
        lg: '16px',
        xl: '20px',
        '2xl': '24px',
        '3xl': '32px',
      },
      
      boxShadow: {
        'card': "0 1px 3px rgba(0,0,0,0.04), 0 4px 12px rgba(0,0,0,0.06)",
        'card-hover': "0 8px 24px rgba(0,0,0,0.1)",
        'sheet': "0 -4px 32px rgba(0,0,0,0.15)",
        'fab': "0 4px 14px rgba(0,0,0,0.15)",
      },
    },
  },
  plugins: [require("tailwindcss-animate")],
}

export default config
```
```css
/* app/globals.css */

:root {
  --bg-base: #F8FAFC;
  --bg-surface: #FFFFFF;
  --primary: #0047FF;          /* Cobalt Blue */
  --accent: #CCFF00;           /* Acid Lime - 배경 전용, 텍스트 금지 */
  --accent-readable: #0F172A;
  --text: #0F172A;
  --text-muted: #64748B;
  --border: #E2E8F0;
  --overlay: rgba(0, 0, 0, 0.5);
}

body {
  background: var(--bg-base);
  color: var(--text);
}
```

> **참고:** CSS Variables는 유지한다. 테마 전환이 아닌, 일반적인 디자인 토큰으로서 활용하기 위함이다. :root에 단일 값만 정의한다.

> **참고 2:** Tailwind config에서 CSS Variable 참조 대신 직접 색상값을 넣었다. 추후 디자인 시스템이 새로 작성되면, 그때 다시 CSS Variable 참조 방식으로 전환할 수 있다.

#### shadcn/ui (Component Library)

**선정 이유:**
- Radix UI 기반의 고품질 접근성 컴포넌트
- Tailwind CSS와 완벽한 통합
- 복사-붙여넣기 방식으로 번들 최적화
- AI 에이전트가 커스터마이징하기 쉬운 구조

**주요 활용 컴포넌트:**
- `Sheet`: Bottom Sheet 구현
- `Dialog`: 모달
- `Toast`: 알림 메시지
- `Button`: CTA 버튼
- `Card`: 일정 카드

**커스터마이징 원칙:**
- `border-radius`, `colors` 등을 디자인 시스템 v3.5에 맞춰 수정
- 모든 interactive 요소에 `whileTap={{ scale: 0.98 }}` 적용

#### Lucide React (Icons)

**선정 이유:**
- 경량, 일관된 디자인 언어
- No-Emoji 정책 대응
- Tree-shaking 지원으로 번들 최적화

**설정 규칙:**
- `strokeWidth={1.5}` (기본)
- `size={16}` (소형), `size={20}` (중형), `size={24}` (대형)

**아이콘 매핑:**

| 용도 | 아이콘 | import |
|------|--------|--------|
| 참가비 (콩) | `<KongIcon />` | `@/components/icons/KongIcon` (커스텀) |
| 배지/트로피 | `<Trophy />` | `lucide-react` |
| 일정/캘린더 | `<Calendar />` | `lucide-react` |
| 장소/위치 | `<MapPin />` | `lucide-react` |
| 참가 인원 | `<Users />` | `lucide-react` |
| 책/책장 | `<BookOpen />` | `lucide-react` |
| 알림 | `<Bell />` | `lucide-react` |
| 설정 | `<Settings />` | `lucide-react` |
| 사용자 | `<User />` | `lucide-react` |
| 체크 | `<Check />` | `lucide-react` |
| 닫기 | `<X />` | `lucide-react` |
| 뒤로가기 | `<ChevronLeft />` | `lucide-react` |
| 공유 | `<Share2 />` | `lucide-react` |
| 같이가기 | `<UserPlus />` | `lucide-react` |
| 지표 해설 | `<Info />` | `lucide-react` |

**KongIcon 커스텀 컴포넌트:**
```tsx
// components/icons/KongIcon.tsx
import { SVGProps } from 'react'

export function KongIcon(props: SVGProps<SVGSVGElement>) {
  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      fill="currentColor"
      width={20}
      height={20}
      {...props}
    >
      {/* 콩 모양 SVG path */}
      <path d="..." />
    </svg>
  )
}
```

#### Framer Motion (Animation)

**선정 이유:**
- React 기반 선언적 애니메이션 라이브러리
- AI 에이전트가 다루기 쉬운 직관적 API
- Stagger, 물리 기반 스프링 등 고급 효과 지원
- 번들 크기 최적화 (tree-shaking 지원)

**사용 범위:**
- Bottom Sheet 인터랙션 (Spring 물리 효과)
- 카드 리스트 Staggered Reveal
- 버튼 탭 피드백 (`scale: 0.98`)
- 숫자 카운팅 애니메이션
- *Growth Phase:* 배지 획득 3D 회전, 칭찬 빛 퍼짐 효과

**성능 최적화:**
- `layout` prop 활용
- `AnimatePresence`로 exit 애니메이션 관리
- `useReducedMotion` 훅으로 접근성 대응

---

### 3.2 백엔드 & 데이터베이스

#### Supabase (PostgreSQL 기반 BaaS)

**선정 이유:**
- PostgreSQL 기반으로 복잡한 쿼리/관계형 데이터 처리 가능
- 인증(카카오 로그인) 내장 지원
- 실시간 구독 기능 → 참가 인원 실시간 업데이트에 활용
- Row Level Security로 권한 관리 용이
- REST API 자동 생성 → 개발 속도 빠름
- AI 에이전트가 다루기 쉬운 구조
- 싱가포르 리전 사용 가능 (한국에서 빠름)

**Firebase 대신 Supabase를 선택한 이유:**
- 복잡한 데이터 관계 (회원-모임-신청-칭찬 등) → 관계형 DB가 유리
- 부분 환불 계산, 통계 쿼리 → SQL이 훨씬 편함
- 마이그레이션/확장성 → PostgreSQL이 표준이라 이동 쉬움

---

### 3.3 결제 (PG사)

#### 포트원 (구 아임포트)

**선정 이유:**
- 여러 PG사(카카오페이, 토스페이먼츠 등)를 하나의 API로 통합
- 부분 환불 API 지원 → 환불 자동화 핵심
- 간이과세자 계약 가능
- 전자상거래 소매업 업종으로 심사 문제 없음
- 문서/레퍼런스 풍부 → AI 에이전트 개발에 유리
- 월 기본료 없음, 건당 수수료만

**실제 결제 처리:**
- 카카오페이 또는 토스페이먼츠 (포트원 통해 연동)
- 수수료: 약 2.5~3.5% (카드 결제 기준)

---

### 3.4 알림톡

#### 솔라피 (Solapi)

**선정 이유:**
- 카카오 알림톡 API 연동 쉬움
- 건당 비용 저렴 (약 7~9원)
- 템플릿 관리 기능
- REST API 문서 잘 되어 있음 → AI 에이전트 연동 쉬움
- 소규모 서비스에 적합

**대안:** NHN Cloud 알림톡 (월 10만 건 이상 시)

**솔라피 → NHN Cloud 전환 시:**
- 카카오 채널: 동일하게 사용 (변경 없음)
- 알림톡 템플릿: 카카오 비즈니스에서 관리 → 그대로 유지
- 코드 수정 범위: 알림 발송 모듈 1곳만 수정
- 전환 용이성: 알림 서비스 추상화 개발 시 30분 내 전환 가능

---

### 3.5 배포 & 인프라

#### Vercel (프론트엔드/API)

**선정 이유:**
- Next.js 공식 배포 플랫폼 (최적화)
- 자동 SSL 인증서
- 글로벌 CDN → 빠른 로딩
- GitHub 연동 자동 배포
- 무료 티어로 시작 가능, 트래픽 늘면 Pro 플랜

#### Supabase (데이터베이스/인증)
- 무료 티어: 500MB 스토리지, 월 50,000 인증
- Pro 플랜: 월 $25 (8GB, 무제한 인증)

---

### 3.6 기타

| 항목 | 선택 | 비고 |
|------|------|------|
| 도메인 | brainy-club.com | 보유 중 |
| SSL | Vercel 자동 제공 | 무료, 자동 갱신 |
| 이미지 저장 | Supabase Storage | 통합 관리 |
| 모니터링 | Vercel Analytics | 기본 제공 |
| Confetti 효과 | react-confetti | 배지 획득 연출 |

---

## 4. 기술 스택 요약

| 레이어 | 기술 | 월 비용 |
|--------|------|---------|
| 프론트엔드 | Next.js 14 + Tailwind CSS + next/font | - |
| UI 라이브러리 | shadcn/ui + Framer Motion + Lucide React | - |
| 백엔드/DB | Supabase (PostgreSQL) | 무료 → $25 |
| 인증 | Supabase Auth (카카오 로그인) | 포함 |
| 결제 | 포트원 + 카카오페이/토스 | 건당 수수료만 |
| 알림톡 | 솔라피 | 건당 ~9원 |
| 배포 | Vercel | 무료 → $20 |
| 도메인 | brainy-club.com | 연 ~2만원 |

---

## 5. 예상 비용

### MVP 단계 (무료~5만원/월)

| 항목 | 비용 |
|------|------|
| Vercel | 무료 |
| Supabase | 무료 |
| 솔라피 | 약 1~2만원 (월 2,000건 기준) |
| 도메인 | 연 2만원 |
| **합계** | **약 1~2만원/월** |

### 정식 운영 (5~10만원/월)

| 항목 | 비용 |
|------|------|
| Vercel Pro | $20 (~2.7만원) |
| Supabase Pro | $25 (~3.4만원) |
| 솔라피 | 약 2~3만원 (월 5,000건 기준) |
| 도메인 | 연 2만원 |
| **합계** | **약 8~10만원/월** + 결제 수수료 |

---

## 6. 개발 로드맵

### 6.1 전체 로드맵 개요
Phase 0: 기반 구축 (결제/알림 없이 동작 확인)
↓
Phase 1: 핵심 흐름 완성 (신청 → 결제 → 환불)
↓
Phase 2: 연결 유지 (알림톡, 리마인드)
↓
Phase 3: 소속감 강화 (배지, 칭찬, 후기, 책장)
↓
Phase 4: 운영 효율화 (대시보드, 권한 관리)
↓
Phase 5: 신규 회원 & 안정화 → 정식 출시

---

### 6.2 Phase 0: 기반 구축

**목표:** 기본 인프라 세팅, 핵심 화면 확인

**적용 기술:**
- Next.js 14 + Tailwind CSS + next/font
- shadcn/ui + Framer Motion + Lucide React
- Supabase (DB + 이메일/비밀번호 인증만)
- Vercel 배포

**구현 범위:**
- CSS Variables 기반 디자인 토큰 적용
- 폰트: Outfit + Noto Sans KR 2종 로딩
- KongIcon 커스텀 컴포넌트
- 회원가입/로그인 (이메일/비밀번호만, 카카오는 Phase 1)
- 홈 화면 (Bento Grid, 일정 카드 목록 + Staggered Animation)
- 모임 상세 Bottom Sheet (정보 표시만, 신청 버튼은 비활성)
- 마이페이지 기본 (내 정보)
- 운영자: 모임 생성/수정/삭제

**검증 포인트:**
- [ ] 색상/폰트가 의도대로 적용되는가? (Outfit, Noto Sans KR)
- [ ] Staggered Animation이 100ms 간격으로 순차 등장하는가?
- [ ] Bottom Sheet가 Spring 물리 효과로 부드럽게 열리는가?
- [ ] `<KongIcon />`이 텍스트와 정렬(Alignment)이 맞는가?
- [ ] 모바일에서 터치 피드백 (`scale: 0.98`)이 자연스러운가?

**예상 기간:** 1~2주

---

### 6.3 Phase 1: 핵심 흐름 완성

**목표:** "신청 → 결제 → 취소 → 환불" 전체 흐름 동작, **3-Click Rule 검증**

**추가 기술:**
- Supabase Auth 카카오 로그인 연동
- 포트원 결제 연동

**구현 범위:**
- 카카오 로그인
- 모임 신청 + **간편결제 전용** (카카오페이 or 토스) - **Bottom Sheet 내 Sticky CTA**
  - 계좌이체는 MVP에서 제외, Growth Phase에서 추가
- 취소 + 자동 환불 (환불 규정 적용)
- 취소 사유 입력
- 대기 신청 (결제 없이 대기만)
- 대기자 자리 발생 시 → 수동 알림 (알림톡은 Phase 2)
- 참가 인원 표시 (`<Users />` + "O명 참여", 정원 숨김)
- 마감 임박 표시 (남은 자리 3명 이하)
- **공유하기** (Web Share API + 링크 복사 Fallback + ref 파라미터)
- **같이가기(찔러보기)** UI 구현 (회원 검색 → 최대 3명 선택)
  - 주의: Phase 1에서 찔러보기의 알림톡 발송은 아직 솔라피 미연동이므로, UI만 구현하고 발송은 Phase 2에서 연동

**검증 포인트:**
- [ ] **3-Click Rule:** 카드 탭 → 정보 확인 → CTA 탭으로 결제 완료되는가?
- [ ] **페이지 이동 없이** Bottom Sheet 내에서 모든 흐름이 완료되는가?
- [ ] Sticky CTA가 모바일 키보드 등과 겹치지 않는가?
- [ ] 결제 완료 후 "참여 확정" Toast가 올바르게 표시되는가?
- [ ] 부분 환불(50%)이 제대로 계산되는가?
- [ ] 대기 → 자리 발생 → 신청 전환이 되는가?
- [ ] 공유하기 버튼이 모바일에서 Web Share API를 정상 호출하는가?
- [ ] 공유 URL에 ref 파라미터가 정상 포함되는가?
- [ ] 같이가기 회원 검색이 빠르게 응답하는가? (300ms 이내)

**테스트:** Alpha 테스트 (운영자 + 친한 회원 3~5명)

**예상 기간:** 2~3주

---

### 6.4 Phase 2: 연결 유지 (알림)

**목표:** 회원이 모임을 잊지 않게, **No-Emoji 알림톡 정책 적용**

**추가 기술:**
- 솔라피 알림톡 연동

**구현 범위:**
- 알림톡 발송 모듈 (추상화 - 나중에 서비스 교체 용이하게)
- 모임 리마인드 (3일 전, 1일 전, 당일) - 자동
- 대기자 자리 발생 알림 - 자동
- 응답 대기 시간 로직 (PRD 섹션 5 "대기 신청" 참조)
- 운영자 수동 알림 발송 (공지용)
- **같이가기(찔러보기) 알림톡 발송 연동**
- **Alpha 출시** (운영자 + 친한 회원 3~5명)

**검증 포인트:**
- [ ] 알림톡이 제때 발송되는가?
- [ ] 알림톡 메시지에 이모지가 포함되지 않았는가?
- [ ] 대기자 순차 알림이 정상 동작하는가?

**예상 기간:** 1~2주

---

### 6.5 Phase 3: 소속감 강화

**목표:** "나는 지독해 회원"이라는 느낌, **No-Emoji + Motion 중심 Pride 시스템**

**구현 범위:**
- 참여 완료 판단 (3일 후 알림 → 칭찬/참여확인/후기 선택)
- 7일 미응답 → 자동 완료
- **칭찬하기** (익명, 선택 문구 5개, 3개월 중복 불가) - 빛 퍼짐 효과
- 건의하기
- 후기 남기기 (공개 동의 옵션)
- 참가자 목록 (칭찬 10개 이상 우선, 흐릿하게)
- **배지 시스템** (첫 참여, 10회, 연속 4주) - Confetti Canvas + 3D 회전
- 마이페이지 강화 (`<Trophy />` + Glow 효과)
- 정기모임 자격 상태 + 6개월 임박 알림
- 내 책장 (`<BookOpen />` + 한 문장 기록)

**검증 포인트:**
- [ ] 배지 획득 시 Confetti Canvas 효과가 정상 동작하는가?
- [ ] 칭찬 전송 시 빛 퍼짐 효과가 자연스러운가?
- [ ] 마이페이지 내 `<Trophy />` Glow가 적용되는가?
- [ ] **No-Emoji 정책**이 전면 적용되었는가?
- [ ] 참가자 목록이 의도대로 보이는가?

**예상 기간:** 2~3주

---

### 6.6 Phase 4: 운영 효율화

**목표:** 운영자 부담 최소화

**구현 범위:**
- 대시보드 (참가 현황, 수입, 환불 내역, 재참여율)
- **선행 지표 트래킹** (Day 1 칭찬율, Week 1 재방문율, Week 2 재신청율)
- **지표 해설 패널** (`<Info />` 툴팁)
- 노쇼 "미참여" 처리
- 알림 템플릿 관리 (문구/시점 수정, on/off)
- 운영자 권한 관리 (권한 선택적 부여)
- 요청함 (문의 확인 + 답변)
- 배너 관리

**검증 포인트:**
- [ ] 대시보드 숫자가 정확한가?
- [ ] 다른 운영자에게 권한 부여가 되는가?

**예상 기간:** 2주

---

### 6.7 Phase 5: 신규 회원 + 계좌이체 + 안정화

**목표:** 신규 유입 + 계좌이체 결제 확장 + 출시 준비

**구현 범위:**
- 후킹 랜딩페이지 (Bento Grid, 공개 동의한 후기 표시)
- 신규 회원 안내 Bottom Sheet ("지독해가 어떤 곳인지 먼저 보시는 걸 추천해요.")
- 첫 모임 전날 환영 알림
- 첫 모임 후 후기 요청 + 다음 모임 안내
- 정기모임 자격 미충족 시 안내/유도
- **계좌이체 결제 옵션 추가**
- 버그 수정, 성능 최적화

**테스트:** Beta 테스트 (활성 회원 20~30명) → 정식 출시

**예상 기간:** 2~3주

---

### 6.8 Phase 6: 회원 참여 확장 (2차 개발)

MVP 안정화 후 진행. 오프라인 테스트로 검증된 기능을 시스템화.

#### 6.8.1 진행자 시스템

정기모임을 매니저 없이 회원들이 자율적으로 운영할 수 있도록 진행자를 선정하는 시스템.

**진행자 역할:**
- 타임키핑 (30분 독서 → 5분 휴식 → 30분 독서 → 5분 휴식 → 책 소개 → 소감 나누기)
- 아이스브레이킹: "한 주 어떤 일 있으셨나요?"
- 갈등 조정 (말이 길어지는 참가자 등)
- 신규 회원 케어 (반갑게 인사)

**선정 규칙:**

| 항목 | 내용 |
|------|------|
| 자격 조건 | 정기모임 참여 완료 8회 이상 (상한선은 의도적으로 비공개) |
| 인원 | 2명 (정/부) - 함께 진행 |
| 선정 시점 | 모임 전날 알림 발송 |
| 매니저 백업 | 자격자 2명 미만인 모임은 매니저가 참여 |

**off 기능:**

| 항목 | 내용 |
|------|------|
| 설정 위치 | 마이페이지 > 설정 > 진행자 참여 |
| off 기간 | 1달간 진행자 선정에서 제외 |
| 제한 | 연간 3회까지 off 가능 (매년 1월 1일 리셋) |
| 자동 활성화 | 1달 후 자동 on, 3일 전 리마인드 알림 |

**필요한 데이터:**
- users 테이블 확장: facilitator_off_until (off 만료일), facilitator_off_count_year (연간 off 횟수)
- facilitator_history 테이블 신규: 진행 이력 (모임, 회원, 역할(정/부), 일시)

---

#### 6.8.2 오늘의 지독해 (소식 피드)

홈 화면에서 지독해의 활동을 자연스럽게 보여주는 소식 피드. 커뮤니티가 살아있다는 느낌 제공.

**UI 구성:**

| 요소 | 설명 |
|------|------|
| 위치 | 홈 상단 (배너 아래, 일정 위) |
| 형태 | 페이드 카드 (4초마다 자동 전환) |
| 보조 | 토스트 팝업 (하루 1~2번, 하단에서 올라와 5초 후 사라짐) |

**콘텐츠 우선순위:**

| 순위 | 콘텐츠 | 예시 |
|------|--------|------|
| 1 | 마감 임박 모임 | "경주 정기모임 마감 임박 (2자리)" |
| 2 | 새로 열린 모임 | "포항 토론모임이 열렸어요" |
| 3 | 최근 후기 | "첫 모임이었는데 편안하게 이야기 나눌 수 있었어요" |
| 4 | 책장 한 문장 | "결국 사랑이었다 - 『아몬드』" |
| 5 | 칭찬 소식 | "[이름]님에게 전해진 말: '따뜻한 분위기를 만들어주셨어요'" |
| 6 | 배지 획득 | "누군가가 10회 참여 배지를 획득했어요" |

**표시 규칙:**

| 항목 | 규칙 |
|------|------|
| 본인 글 | 표시 안 함 |
| 후기/책장 익명 | 작성 시 "소식 피드에 익명으로 노출" 선택 가능 |
| 칭찬 수신자 | 이름 공개 (설정 불가) |
| 배지 획득 | 익명 ("누군가가") |

**필요한 데이터:**
- reviews 테이블 확장: is_anonymous_in_feed (소식 피드 익명 여부)
- bookshelf 테이블 확장: is_anonymous_in_feed (소식 피드 익명 여부)

---

## 7. 타임라인 요약

| Phase | 내용 | 기간 | 누적 |
|-------|------|------|------|
| 0 | 기반 구축 | 1~2주 | 2주 |
| 1 | 핵심 흐름 + 공유/찔러보기 (간편결제 전용) | 2~3주 | 5주 |
| 2 | 알림 + Alpha 출시 | 1~2주 | **6주 (Alpha)** |
| 3 | 소속감 (칭찬/배지/후기/책장) | 2~3주 | 9주 |
| 4 | 운영 효율화 (대시보드 + 선행 지표) | 2주 | 11주 |
| 5 | 신규 회원 + 계좌이체 + 안정화 + 정식 출시 | 2~3주 | 14주 |
| 6 | 회원 참여 확장 (진행자/소식) | 2~3주 | - |

**예상 총 기간:** Alpha 6주 + Growth 8주 = 약 3.5개월 (기존과 총 기간 유사하나, 6주차에 실 사용자 검증 시작)

---

## 8. 테스트 전략

| 시점 | 테스트 유형 | 대상 |
|------|-------------|------|
| Phase 2 완료 | Alpha | 운영자 + 친한 회원 3~5명 |
| Phase 4 완료 | Beta | 활성 회원 20~30명 |
| Phase 5 완료 | 정식 출시 | 전체 회원 |

---

## 9. 확장 시 기술 전환 가이드

| 상황 | 현재 | 전환 대상 | 난이도 |
|------|------|----------|--------|
| 알림량 월 10만 건 이상 | 솔라피 | NHN Cloud 알림톡 | 쉬움 (모듈 교체) |
| 회원 5,000명 이상 | Supabase Pro | 자체 PostgreSQL | 중간 |
| 앱 출시 | Next.js (웹) | React Native | 중간 (백엔드 그대로) |
| 트래픽 급증 | Vercel 무료 | Vercel Pro + Edge | 쉬움 |

---

## 10. 개발 시 주의사항

### AI 에이전트에게 전달할 원칙 (Strict Rules)

**디자인 원칙**
1. **No-Emoji 정책:** 모든 UI에서 이모지 사용 금지. Lucide React 아이콘으로 대체.
2. **폰트 전략:** `next/font`를 통해 Outfit, Noto Sans KR 2종 로딩.
3. **색상 가독성:** Acid Lime (#CCFF00)은 배경으로만 사용, 텍스트로 사용 금지.
4. **색상 코드:** Primary #0047FF, Accent #CCFF00, Text #0F172A.

**UX 원칙**
5. **One-Page Flow:** 페이지 이동 대신 Bottom Sheet 패턴 활용.
6. **3-Click Rule:** 신청 완료까지 3번의 탭 이내.
7. **Sticky CTA:** Bottom Sheet 하단에 고정된 결제 버튼.

**기술 원칙**
8. **알림 서비스 추상화:** 알림 발송 로직을 별도 모듈로 분리하여 나중에 솔라피 → NHN Cloud 등으로 쉽게 교체 가능하게.
9. **환불 규정 유연성:** 환불 규정을 하드코딩하지 않고, 모임 유형별로 DB에서 관리.
10. **권한 관리 확장성:** 운영자 권한을 role 기반으로 설계하여 추후 권한 추가 용이하게.
11. **실시간 업데이트:** 참가 인원 등 실시간 변경이 필요한 데이터는 Supabase Realtime 활용.
12. **모바일 우선:** 모든 UI는 모바일 먼저 디자인 후 데스크톱 확장.

**MVP 원칙**
13. **MVP 범위 엄수:** Phase 0~2에 포함되지 않은 기능(배지, 칭찬, 책장, 후기, 온보딩, 대시보드, 계좌이체)은 절대 구현하지 않는다.
14. **간편결제 전용:** MVP에서 계좌이체 관련 로직(입금자명, 입금 기한, 수동 확인)을 구현하지 않는다.

---

## 11. 사업자 정보 (PG 계약용)

| 항목 | 내용 |
|------|------|
| 상호 | 지독해 |
| 사업자등록번호 | 494-42-01276 |
| 업태 | 도매 및 소매업 |
| 종목 | 전자상거래 소매업, 전자상거래 소매 중개업 |
| 과세 유형 | 간이과세자 |
| 개업일 | 2025년 10월 7일 |

---

## 변경 이력

| 날짜 | 버전 | 변경 내용 |
|------|------|----------|
| 2025-01-07 | 1.0 | 기술 스택 및 개발 로드맵 최초 작성 |
| 2025-01-07 | 1.1 | Phase 3 업데이트: 후기 남기기 추가, 내 책장에 한 문장 기록 추가 |
| 2025-01-09 | 1.2 | Phase 6 (2차 개발) 추가 - 진행자 시스템, 오늘의 지독해 |
| 2026-01-30 | 1.3 | 디자인 시스템 v3.3 기준 프론트엔드 스택 전면 개편: next/font 도입 및 3종 폰트 로딩 전략 명시, Tailwind darkMode 사용 금지 및 data-theme + CSS Variables 기반 테마 스위칭 구조 채택 (구현 코드 포함), UI 라이브러리 공식 스택 확정 (shadcn/ui + Framer Motion + Lucide React), No-Emoji 정책 반영 및 Lucide 아이콘 매핑 테이블 추가, KongIcon 커스텀 컴포넌트 명세, Phase별 검증 포인트 구체화 (3-Click Rule, 키보드 겹침, 아이콘 정렬 등) |
| 2026-02-03 | 1.4 | 온보딩/Growth 개선 반영: Phase 2에 온보딩 알림 시퀀스 및 알림 중단 로직 추가, Phase 3에 Aha Moment (칭찬 보내기/받기) 연결 및 배지 추가, Phase 5를 5단계 온보딩 플로우로 확장, 각 Phase 검증 포인트에 활성화 지표 측정 항목 추가 |
| 2026-02-05 | 1.5 | **디자인 시스템 v3.5 동기화:** (1) CSS Variable 네이밍을 디자인 시스템 기준으로 통일 (`--color-*` → `--bg-base`, `--primary`, `--text` 등) (2) 색상 코드 통일 — Electric Primary `#0047AB`→`#0047FF`, Warm Primary `#1A237E`→`#0F172A`, Warm Accent `#8B4513`→`#EA580C` (3) Tailwind fontFamily를 직접 폰트 스택 참조 방식으로 변경 (이중 CSS Variable 제거) (4) borderRadius `xl: 24px`→`20px`, `2xl: 24px`, `3xl: 32px` 추가 (5) Noise opacity `0.03`→`0.06`으로 수정 (6) Tailwind colors 구조를 `bg-base`/`bg-surface`/`accent-readable` 등 디자인 시스템 토큰과 일치시킴 (7) 관련 문서 버전 참조 최신화 |
| 2026-02-16 | 1.6 | **MVP 범위 재정의:** (1) Phase 0~2를 True MVP로, Phase 3~6을 Growth Phase로 재구성 (2) Phase 0에서 Noto Serif KR 제외, Electric 단일 모드 (3) Phase 1에 공유하기/같이가기(찔러보기) 추가, 간편결제 전용으로 변경 (4) Lucide 아이콘 매핑에 Share2, UserPlus, Info 추가 (5) 타임라인을 Alpha 6주 기준으로 수정 (6) AI 에이전트 주의사항에 MVP 범위 엄수 원칙 3개 추가 |
| 2026-02-16 | 1.7 | **듀얼 테마 완전 제거:** (1) Noto Serif KR 제거, 2종 폰트로 변경 (2) data-theme 기반 테마 스위칭 인프라 전체 삭제 (3) Warm Mode CSS 및 Noise Texture 삭제 (4) Tailwind config를 직접 색상값 방식으로 변경 (5) 디자인 시스템 v3.5 참조 제거 (6) AI 에이전트 원칙에서 테마 관련 항목 삭제/수정 (7) Phase 0~5에서 테마 관련 문구 정리 (8) Phase 4에 선행 지표/해설 패널 추가 (9) Phase 5를 계좌이체+안정화로 변경 |

---