
# Work Packages 요약

---

**문서 버전:** 1.1  
**작성일:** 2026-01-29  
**관련 문서:** [milestones.md](../milestones.md)

---

## 1. 개요

이 폴더는 각 Milestone을 실행 가능한 단위인 **Work Package(WP)** 로 분해한 문서를 포함합니다.

### 설계 원칙

1. **Vertical Slicing**: 각 Phase가 사용자 가치를 전달하도록 구성
2. **완결성**: 각 Phase가 끝나면 소프트웨어는 "동작하는" 상태
3. **의존성 명확화**: Phase 간 순서와 선행 조건 정의
4. **AI 에이전트 친화적**: 명확한 작업 목록과 완료 기준

---

## 2. Work Package 목록

| Milestone | Work Package | 기간 | Phase 수 | 핵심 가치 |
|-----------|--------------|------|----------|----------|
| M1 | [WP-M1-기반구축.md](./WP-M1-기반구축.md) | 1~2주 | 4 | 쉬운 연결 (기반) |
| M2 | [WP-M2-계좌이체신청.md](./WP-M2-계좌이체신청.md) | 2주 | 5 | 쉬운 연결 (Beta 오픈) |
| M3 | [WP-M3-알림시스템.md](./WP-M3-알림시스템.md) | 1~2주 | 4 | 잊지 않게 |
| M4 | [WP-M4-PG연동및소속감.md](./WP-M4-PG연동및소속감.md) | 3주 | 5 | 신뢰, 소속감 |
| M5 | [WP-M5-운영고도화.md](./WP-M5-운영고도화.md) | 2주 | 4 | 신뢰 (운영 관점) |
| M6 | [WP-M6-신규회원-출시.md](./WP-M6-신규회원-출시.md) | 2주 | 4 | 모든 가치 완성 |

**총 Phase 수:** 26개  
**예상 총 기간:** 12~14주

---

## 3. 전체 Phase 흐름

```
M1: 프로젝트 기반 구축 (4 Phase)
├── P1: 인프라 & 프로젝트 초기화 ─── [빈 페이지 배포됨]
├── P2: 데이터베이스 & 인증 ──────── [회원가입/로그인 동작]
├── P3: 모임 조회 UI ──────────────── [모임 목록 표시]
└── P4: 운영자 모임 관리 ─────────── [모임 CRUD 가능]
         ↓
M2: 계좌이체 신청 & Beta 오픈 (5 Phase)
├── P1: 카카오 로그인 ────────────── [카카오 로그인 동작]
├── P2: 계좌이체 UI & 신청 ───────── [신청 접수 시작]
├── P3: 입금 확인 시스템 ─────────── [운영자 입금확인]
├── P4: 대기 시스템 ─────────────────── [대기 등록]
├── P5: 마이페이지 & Beta 오픈 ───── [🚀 실사용 가능]
         ↓
    ┌────┴────┐
    ↓         ↓
M3: 알림 시스템 (4 Phase)          M4: PG 연동 & 소속감 (5 Phase)
├── P1: 알림 인프라 (솔라피)         ├── P1: PG 결제 연동 (포트원)
├── P2: 모임 리마인드 자동화         ├── P2: 자동 환불 시스템
├── P3: 대기자 알림 자동화           ├── P3: 칭찬하기 & 후기
└── P4: 세그먼트별 리마인드          ├── P4: 배지 시스템
                                    └── P5: 내 책장 & 참가자 목록
    ↓         ↓                              ↓ [Beta 확장]
    └────┬────┘
         ↓
M5: 운영 고도화 (4 Phase)
├── P1: 대시보드 고도화 ──────────── [통계 확인]
├── P2: 알림 템플릿 관리 ──────────── [문구 수정]
├── P3: 권한 관리 ───────────────────── [권한 부여]
└── P4: 요청함 & 배너 관리 ─────────── [문의 답변]
         ↓
M6: 신규 회원 & 출시 (4 Phase)
├── P1: 후킹 랜딩페이지 ───────────── [브랜드 페이지]
├── P2: 신규 회원 플로우 ─────────── [온보딩]
├── P3: 자격 체크 & 유도 ──────────── [규정 적용]
└── P4: 안정화 & 출시 ────────────── [🎉 정식 출시]
```

---

## 4. 테스트 마일스톤

| 시점 | 테스트 유형 | 대상 | 목적 |
|------|-------------|------|------|
| M2 완료 | Beta (조기) | 지인 + 일부 회원 (계좌이체) | **실제 참가 신청 접수 시작**, 입금/환불 검증 |
| M4 완료 | Beta (확장) | 활성 회원 (PG 결제) | PG 자동 결제/환불 검증, 소속감 기능 반응 |
| M6 완료 | 정식 출시 | 전체 회원 | 전체 기능 오픈 |

---

## 5. 데이터베이스 테이블 생성 순서

Work Package에서 생성되는 테이블 순서:

```
M1-P2: users, meetings, registrations, refund_policies, bookmarks(x)
M2-P3: registrations (입금 관련 컬럼 사용)
M2-P4: waitlists
M3-P1: notification_logs
M3-P2: (Cron 설정)
M4-P1: registrations (PG 관련 컬럼 사용), payments(별도 테이블 필요시)
M4-P3: praises, reviews
M4-P4: badges, user_badges
M4-P5: bookshelf
M5-P2: notification_templates
M5-P3: admin_permissions
M5-P4: banners, suggestions
```

---

## 6. 외부 연동 순서

| Milestone | Phase | 외부 서비스 | 연동 내용 |
|-----------|-------|------------|----------|
| M1-P1 | Supabase | 프로젝트 생성, DB 연결 |
| M1-P1 | Vercel | 배포 파이프라인 |
| M2-P1 | 카카오 | OAuth 로그인 |
| M3-P1 | 솔라피 | 알림톡 발송 |
| M3-P1 | 카카오 비즈니스 | 알림톡 템플릿 승인 |
| M4-P1 | 포트원 | 결제/환불 API |
| M6-P4 | Sentry | 에러 모니터링 |

---

## 7. AI 에이전트 개발 가이드

### 각 Phase 작업 시 체크 포인트

1. **작업 전**
   - 선행 조건 확인
   - 필요한 테이블 확인
   - 외부 연동 준비 상태 확인

2. **작업 중**
   - 작업 목록 순서대로 진행
   - 완료 기준 하나씩 체크
   - 타입 안전성 유지

3. **작업 후**
   - 완료 검증 포인트 전체 확인
   - 다음 Phase 시작 가능 여부 확인
   - 동작하는 상태 확인

### 공통 주의사항

| 항목 | 가이드 |
|------|--------|
| 모바일 우선 | 360px에서 먼저 확인 |
| 환불 규정 | 하드코딩 금지, DB에서 관리 |
| 알림 서비스 | 추상화 레이어 필수 |
| 동시성 | 결제/정원 체크 시 트랜잭션 |
| 칭찬 중복 | 모임당 1명, 3개월 동일인 |
| 권한 관리 | RLS + 미들웨어 조합 |
| 계좌이체 | 입금 확인 처리는 운영자가 수동으로 수행 |

---

## 8. 빠른 참조

### 주요 API 엔드포인트 (예정)

| 기능 | 메서드 | 경로 | Milestone |
|------|--------|------|----------|
| 모임 목록 | GET | `/api/meetings` | M1 |
| 모임 상세 | GET | `/api/meetings/[id]` | M1 |
| 모임 CRUD | POST/PUT/DELETE | `/api/admin/meetings` | M1 |
| 계좌이체 신청 | POST | `/api/registrations/transfer` | M2 |
| 입금 확인 | POST | `/api/admin/registrations/confirm` | M2 |
| 대기 등록 | POST | `/api/waitlists` | M2 |
| 알림 발송 (수동) | POST | `/api/admin/notifications` | M3 |
| PG 결제 검증 | POST | `/api/payments/complete` | M4 |
| PG 환불 요청 | POST | `/api/payments/refund` | M4 |
| 칭찬 저장 | POST | `/api/praises` | M4 |
| 책장 등록 | POST | `/api/bookshelf` | M4 |
| 대시보드 통계 | GET | `/api/admin/stats` | M5 |
| 템플릿 수정 | PUT | `/api/admin/templates/[id]` | M5 |

---

## 변경 이력

| 날짜 | 버전 | 변경 내용 |
|------|------|----------|
| 2026-01-14 | 1.0 | Work Packages README 최초 작성 |
| 2026-01-29 | 1.1 | Milestone 변경(계좌이체 선행) 반영 |
