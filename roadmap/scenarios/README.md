# Scenarios 요약

---

**문서 버전:** 1.0  
**작성일:** 2026-01-14  
**관련 문서:** [work-packages/](../work-packages/)

---

## 1. 개요

이 폴더는 각 Work Package를 **Scenario**로 분해한 문서를 포함합니다.

### 설계 원칙

```
하나의 Scenario = 하나의 행동 = 하나의 검증
```

- **Given:** 사전 상태/조건
- **When:** 실행할 행동
- **Then:** 기대 결과
- **선행 Scenario:** 의존성

---

## 2. Scenario 문서 목록

| Milestone | 파일 | Scenario 수 | Critical | High | Medium |
|-----------|------|:----------:|:--------:|:----:|:------:|
| M1 | [SC-M1-기반구축.md](./SC-M1-기반구축.md) | 36 | 15 | 14 | 7 |
| M2 | [SC-M2-계좌이체신청.md](./SC-M2-계좌이체신청.md) | 43 | 16 | 21 | 6 |
| M3 | [SC-M3-알림시스템.md](./SC-M3-알림시스템.md) | 38 | 11 | 18 | 9 |
| M4 | [SC-M4-PG연동및소속감.md](./SC-M4-PG연동및소속감.md) | 47 | 12 | 23 | 12 |
| M5 | [SC-M5-운영고도화.md](./SC-M5-운영고도화.md) | 44 | 20 | 17 | 7 |
| M6 | [SC-M6-신규회원-출시.md](./SC-M6-신규회원-출시.md) | 45 | 22 | 15 | 8 |
| **총계** | | **253** | **96** | **108** | **49** |

---

## 3. Scenario 번호 체계

```
Scenario [Milestone]-[순번]: [행동 기반 명칭]
```

**예시:**
- `M1-001`: M1의 첫 번째 Scenario
- `M2-015`: M2의 15번째 Scenario

---

## 4. Phase별 Scenario 분포

### M1: 프로젝트 기반 구축

| Phase | 설명 | Scenario 수 |
|-------|------|:----------:|
| Phase 1 | 개발 환경 세팅 | 8 |
| Phase 2 | 인증 시스템 | 12 |
| Phase 3 | 모임 데이터 & 목록 | 9 |
| Phase 4 | 모임 상세 & 마이페이지 | 7 |

### M2: 계좌이체 신청 & Beta 오픈

| Phase | 설명 | Scenario 수 |
|-------|------|:----------:|
| Phase 1 | 카카오 로그인 & 신청 기반 | 6 |
| Phase 2 | 계좌이체 신청 플로우 | 8 |
| Phase 3 | 운영자 입금 확인 | 7 |
| Phase 4 | 취소/환불 & 대기 시스템 | 9 |
| Phase 5 | 마이페이지 신청 내역 | 9 |
| 추가 | 운영자 환불 관리 | 4 |

### M3: 알림 시스템

| Phase | 설명 | Scenario 수 |
|-------|------|:----------:|
| Phase 1 | 알림 인프라 구축 | 8 |
| Phase 2 | 모임 리마인드 알림 | 8 |
| Phase 3 | 대기자 및 세그먼트 알림 | 12 |
| Phase 4 | 운영자 알림 관리 | 10 |

### M4: PG 결제 및 소속감

| Phase | 설명 | Scenario 수 |
|-------|------|:----------:|
| Phase 1 | PG 결제 연동 | 8 |
| Phase 2 | 자동 환불 시스템 | 8 |
| Phase 3 | 참여 완료 및 칭찬하기 | 10 |
| Phase 4 | 배지 및 후기 시스템 | 9 |
| Phase 5 | 마이페이지 확장 및 내 책장 | 12 |

### M5: 운영 고도화

| Phase | 설명 | Scenario 수 |
|-------|------|:----------:|
| Phase 1 | 운영 대시보드 | 11 |
| Phase 2 | 권한 관리 시스템 | 9 |
| Phase 3 | 알림 & 콘텐츠 관리 | 11 |
| Phase 4 | 회원 & 예외 처리 | 13 |

### M6: 신규 회원 & 출시

| Phase | 설명 | Scenario 수 |
|-------|------|:----------:|
| Phase 1 | 후킹 랜딩페이지 | 10 |
| Phase 2 | 신규 회원 플로우 | 11 |
| Phase 3 | 자격 체크 & 유도 | 9 |
| Phase 4 | 안정화 & 출시 | 15 |

---

## 5. 주요 의존성 체인

### 핵심 의존성 (M1-M2)

```
M1-001 (개발 서버)
    ↓
M1-003 (Supabase 연결)
    ↓
M1-009 (회원가입)
    ↓
M1-012 (로그인)
    ↓
M1-021 (모임 목록)
    ↓
M1-030 (모임 상세)
    ↓
M2-007 (계좌이체 신청)
    ↓
M2-016 (입금 확인)
    ↓
M2-022 (취소 요청)
    ↓
M2-041 (환불 완료)
```

### 알림 의존성

```
M3-001 (솔라피 설정)
    ↓
M3-006 (테스트 발송)
    ↓
M3-011 (리마인드 발송)
```

### 운영자 의존성

```
M1-033 (운영자 페이지 접근)
    ↓
M5-001 (대시보드)
    ↓
M5-020 (권한 관리)
```

---

## 6. 실패 케이스 요약

### 인증 관련

| Scenario | 실패 조건 |
|----------|----------|
| M1-017 | 중복 이메일 |
| M1-018 | 약한 비밀번호 |
| M1-020 | 잘못된 비밀번호 |
| M1-022 | 비로그인 보호 페이지 접근 |
| M1-034 | 일반 회원 운영자 페이지 접근 |

### 결제/환불 관련

| Scenario | 실패 조건 |
|----------|----------|
| M2-010 | 6개월 자격 미충족 |
| M2-012 | 정원 마감 |
| M2-018 | 결제 사용자 취소 |
| M2-019 | 잔액 부족 |
| M2-020 | 동시성 (2명 중 1명 실패) |
| M2-021 | 중복 신청 |
| M2-029 | 취소 사유 미입력 |
| M2-032 | 환불 API 실패 |

### 칭찬/배지 관련

| Scenario | 실패 조건 |
|----------|----------|
| M4-014 | 모임당 중복 칭찬 |
| M4-015 | 3개월 내 동일인 칭찬 |
| M4-021 | 중복 후기 작성 |
| M4-041 | 같은 책 중복 등록 |

### 권한 관련

| Scenario | 실패 조건 |
|----------|----------|
| M5-021 | admin 권한 관리 접근 |
| M5-024 | 권한 없는 기능 접근 |
| M3-034 | 수동 발송 권한 없음 |

---

## 7. AI 에이전트 개발 가이드

### Scenario 기반 개발 순서

1. **선행 Scenario 확인**
   - 해당 Scenario의 선행 조건 확인
   - 선행 Scenario가 통과되었는지 검증

2. **Given 상태 구성**
   - 테스트 데이터 준비
   - 환경 설정

3. **When 행동 구현**
   - API 엔드포인트 구현
   - UI 컴포넌트 구현

4. **Then 검증 구현**
   - 단위 테스트 작성
   - E2E 테스트 작성

### 테스트 우선순위

1. **필수 (Critical Path)**
   - M1-016: 회원가입
   - M1-019: 로그인
   - M2-014: 결제 완료
   - M2-024: 환불

2. **중요 (High)**
   - M3-011: 리마인드 발송
   - M4-003: 참여 완료
   - M5-001: 대시보드

3. **보통 (Medium)**
   - M4-012: 칭찬하기
   - M4-039: 책 등록
   - M5-034: 배너 등록

---

## 8. 검증 체크리스트

### Alpha 테스트 필수 통과

| Scenario | 설명 | 상태 |
|----------|------|------|
| M1-016 | 회원가입 | ⬜ |
| M1-019 | 로그인 | ⬜ |
| M2-014 | 결제 완료 | ⬜ |
| M2-024 | 100% 환불 | ⬜ |
| M2-025 | 50% 환불 | ⬜ |
| M2-034 | 대기 등록 | ⬜ |

### Beta 테스트 필수 통과

| Scenario | 설명 | 상태 |
|----------|------|------|
| M3-011 | 리마인드 발송 | ⬜ |
| M3-018 | 대기자 알림 | ⬜ |
| M4-003 | 참여 완료 | ⬜ |
| M4-012 | 칭찬하기 | ⬜ |
| M4-024 | 배지 부여 | ⬜ |

### 정식 출시 필수 통과

| Scenario | 설명 | 상태 |
|----------|------|------|
| M6-031 | P0 버그 0개 | ⬜ |
| M6-032 | LCP < 2.5s | ⬜ |
| M6-034 | 에러 모니터링 | ⬜ |
| M6-037 | 전체 결제 흐름 | ⬜ |
| M6-043 | 출시 안내 발송 | ⬜ |

---

## 변경 이력

| 날짜 | 버전 | 변경 내용 |
|------|------|----------|
| 2026-01-14 | 1.0 | Scenarios README 최초 작성 |
| 2026-01-29 | 1.1 | M1, M2 Scenario 문서 갱신 (WP 문서 기반으로 재작성) |
| 2026-01-29 | 1.2 | M3, M4 Scenario 문서 작성 (SC-M3-알림시스템.md, SC-M4-PG연동및소속감.md) |
| 2026-01-29 | 1.3 | M5, M6 Scenario 문서 작성 (SC-M5-운영고도화.md, SC-M6-신규회원-출시.md) |

