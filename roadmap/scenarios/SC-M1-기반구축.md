# Scenario: M1 - 프로젝트 기반 구축

**Work Package:** WP-M1
**총 Scenario 수:** 39개
**작성일:** 2026-01-29

---

## Phase 1: 개발 환경 세팅

### 🔴 Critical Scenarios

**Scenario M1-001: 개발 서버 실행 성공**
- **Given:** 프로젝트 클론 완료
- **When:** `npm install && npm run dev` 실행
- **Then:** localhost:3000에서 기본 페이지 표시
- **선행:** 없음

**Scenario M1-002: Vercel 자동 배포 성공**
- **Given:** main 브랜치에 커밋
- **When:** push 완료
- **Then:** Vercel에서 자동 빌드 및 배포 성공
- **선행:** M1-001

**Scenario M1-003: Supabase 연결 성공**
- **Given:** 환경 변수 설정 완료
- **When:** Supabase 클라이언트 초기화
- **Then:** 연결 테스트 통과 (ping 성공)
- **선행:** M1-001

### 🟡 High Scenarios

**Scenario M1-004: 개발 서버 실행 실패 - 의존성 누락**
- **Given:** node_modules 없이 프로젝트 클론만 완료
- **When:** `npm run dev` 실행 (install 생략)
- **Then:** 모듈 없음 에러 발생
- **선행:** 없음

**Scenario M1-005: Vercel 배포 실패 - 빌드 에러**
- **Given:** TypeScript 타입 에러가 있는 코드
- **When:** main 브랜치에 push
- **Then:** Vercel 빌드 실패, 에러 로그 표시
- **선행:** M1-001

**Scenario M1-006: 폰트 적용 확인**
- **Given:** 페이지 로드 완료
- **When:** 텍스트 확인
- **Then:** Pretendard(본문), Noto Serif KR(제목) 적용됨
- **선행:** M1-001

**Scenario M1-007: Supabase 연결 실패 - 잘못된 키**
- **Given:** 잘못된 SUPABASE_KEY 설정
- **When:** Supabase 클라이언트 초기화
- **Then:** 인증 에러 발생
- **선행:** M1-001

### 🟢 Medium Scenarios

**Scenario M1-008: 환경 변수 분리 확인**
- **Given:** .env.local과 .env.production 설정 완료
- **When:** 각 환경에서 환경 변수 확인
- **Then:** dev/prod 환경별로 다른 값 적용됨
- **선행:** M1-001

---

## Phase 2: 인증 시스템

### 🔴 Critical Scenarios

**Scenario M1-009: 이메일 회원가입 성공**
- **Given:** 회원가입 페이지 진입
- **When:** 실명/닉네임/이메일/비밀번호 입력 후 가입 버튼 클릭
- **Then:** 회원가입 성공, 로그인 페이지로 이동
- **선행:** M1-003

**Scenario M1-010: 회원가입 실패 - 닉네임 중복**
- **Given:** 회원가입 페이지에서 닉네임 입력
- **When:** 이미 사용 중인 닉네임 입력
- **Then:** "이미 사용 중인 닉네임입니다" 에러 표시
- **선행:** M1-009

**Scenario M1-011: 회원가입 실패 - 이메일 중복**
- **Given:** 회원가입 페이지 진입
- **When:** 이미 가입된 이메일로 회원가입 시도
- **Then:** "이미 가입된 이메일입니다" 에러 표시
- **선행:** M1-009

**Scenario M1-012: 이메일 로그인 성공**
- **Given:** 가입된 계정 존재
- **When:** 이메일/비밀번호로 로그인
- **Then:** 홈 화면으로 이동, 사용자 정보 표시
- **선행:** M1-009

**Scenario M1-013: 로그아웃 성공**
- **Given:** 로그인 상태
- **When:** 로그아웃 버튼 클릭
- **Then:** 로그인 페이지로 이동, 세션 삭제
- **선행:** M1-012

**Scenario M1-014: 비로그인 접근 차단**
- **Given:** 비로그인 상태
- **When:** 보호된 페이지(마이페이지) 접근 시도
- **Then:** 로그인 페이지로 리다이렉트
- **선행:** 없음

### 🟡 High Scenarios

**Scenario M1-015: 회원가입 실패 - 닉네임 유효성**
- **Given:** 회원가입 페이지에서 닉네임 입력
- **When:** 특수문자 또는 1자 이하 입력
- **Then:** "닉네임은 2~20자, 한글/영문/숫자/언더스코어만 가능" 에러 표시
- **선행:** 없음

**Scenario M1-016: 회원가입 실패 - 이메일 형식 오류**
- **Given:** 회원가입 페이지 진입
- **When:** 잘못된 이메일 형식(예: "test@") 입력
- **Then:** "올바른 이메일 형식을 입력하세요" 에러 표시
- **선행:** 없음

**Scenario M1-017: 회원가입 실패 - 비밀번호 규칙 미충족**
- **Given:** 회원가입 페이지 진입
- **When:** 6자 미만 비밀번호 입력
- **Then:** "비밀번호는 6자 이상이어야 합니다" 에러 표시
- **선행:** 없음

**Scenario M1-018: 로그인 실패 - 잘못된 비밀번호**
- **Given:** 가입된 계정 존재
- **When:** 잘못된 비밀번호로 로그인 시도
- **Then:** "비밀번호가 올바르지 않습니다" 에러 메시지 표시
- **선행:** M1-009

**Scenario M1-019: 로그인 실패 - 존재하지 않는 계정**
- **Given:** 계정 없음
- **When:** 존재하지 않는 이메일로 로그인 시도
- **Then:** "등록되지 않은 이메일입니다" 에러 메시지 표시
- **선행:** 없음

### 🟢 Medium Scenarios

**Scenario M1-020: 로그인 후 원래 페이지로 복귀**
- **Given:** 비로그인 상태로 보호된 페이지 접근 시도 후 리다이렉트됨
- **When:** 로그인 성공
- **Then:** 원래 접근하려던 페이지로 이동
- **선행:** M1-014

---

## Phase 3: 모임 데이터 & 목록

### 🔴 Critical Scenarios

**Scenario M1-021: 모임 목록 조회 성공**
- **Given:** 로그인 상태, 모임 데이터 존재
- **When:** 홈 화면 진입
- **Then:** 모임 카드 목록이 표시됨 (참가 인원 "O명 참여" 포함)
- **선행:** M1-012

**Scenario M1-022: 운영자 모임 생성 성공**
- **Given:** 운영자 로그인
- **When:** 모임 생성 폼(모임명, 일시, 장소, 정원, 참가비, 환불규정) 제출
- **Then:** 새 모임이 목록에 표시됨
- **선행:** M1-012

**Scenario M1-023: 비운영자 모임 생성 차단**
- **Given:** 일반 사용자 로그인
- **When:** 모임 생성 페이지 접근 시도
- **Then:** 403 에러 또는 홈으로 리다이렉트
- **선행:** M1-012

### 🟡 High Scenarios

**Scenario M1-024: 모임 없음 상태 표시**
- **Given:** 로그인 상태, 모임 데이터 없음
- **When:** 홈 화면 진입
- **Then:** "등록된 모임이 없습니다" 안내 메시지 표시
- **선행:** M1-012

**Scenario M1-025: 마감 임박 뱃지 표시**
- **Given:** 남은 자리 3명 이하인 모임
- **When:** 카드 표시
- **Then:** "마감 임박" 뱃지가 Pulse 애니메이션으로 표시
- **선행:** M1-021

**Scenario M1-026: 마감 뱃지 표시**
- **Given:** 정원이 가득 찬 모임
- **When:** 카드 표시
- **Then:** "마감" 뱃지 표시
- **선행:** M1-021

**Scenario M1-027: 모임 생성 실패 - 필수 정보 누락**
- **Given:** 운영자 로그인
- **When:** 모임명 없이 생성 폼 제출
- **Then:** "모임명을 입력하세요" 에러 표시
- **선행:** M1-012

### 🟢 Medium Scenarios

**Scenario M1-028: 카드 Stagger 애니메이션**
- **Given:** 홈 화면 진입
- **When:** 페이지 로드 완료
- **Then:** 카드가 순차적으로 나타남 (stagger: 0.1s)
- **선행:** M1-021

**Scenario M1-029: 카드 호버 효과**
- **Given:** 모임 카드 표시됨
- **When:** 카드에 마우스 호버
- **Then:** 카드가 Y축으로 -4px 이동
- **선행:** M1-021

---

## Phase 4: 모임 상세 & 마이페이지

### 🔴 Critical Scenarios

**Scenario M1-030: 모임 상세 조회 성공**
- **Given:** 모임 목록에서 카드 클릭
- **When:** 상세 페이지 진입
- **Then:** 모임 정보(모임명, 일시, 장소, 책 정보, 참가비, 환불규정) 표시
- **선행:** M1-021

**Scenario M1-031: 마이페이지 조회 성공**
- **Given:** 로그인 상태
- **When:** 마이페이지 진입
- **Then:** 내 정보(실명, 닉네임, 이메일) 표시
- **선행:** M1-012

**Scenario M1-032: 마이페이지 - 타인 실명 비공개**
- **Given:** 다른 사용자 프로필 조회 시도
- **When:** 해당 사용자 정보 요청
- **Then:** 닉네임만 표시, 실명은 비공개
- **선행:** M1-012

### 🟡 High Scenarios

**Scenario M1-033: 존재하지 않는 모임 접근**
- **Given:** 삭제된 또는 존재하지 않는 모임 ID
- **When:** 상세 페이지 URL 직접 접근
- **Then:** "모임을 찾을 수 없습니다" 에러 페이지 또는 홈으로 리다이렉트
- **선행:** M1-012

**Scenario M1-034: 환불 규정 표시**
- **Given:** 모임 상세 페이지 진입
- **When:** 환불 규정 섹션 확인
- **Then:** 해당 모임의 환불 규정(5일 전 100%, 2일 전 50% 등) 표시
- **선행:** M1-030

**Scenario M1-035: 모바일 반응형 - 320px**
- **Given:** 모바일 기기 (320px 너비)
- **When:** 홈, 상세, 마이페이지 접근
- **Then:** UI가 깨지지 않고 정상 표시
- **선행:** M1-021

### 🟢 Medium Scenarios

**Scenario M1-036: 모바일 반응형 - 768px**
- **Given:** 태블릿 기기 (768px 너비)
- **When:** 모든 페이지 접근
- **Then:** UI가 적절히 반응하여 정상 표시
- **선행:** M1-021

---

## 요약

| 분류 | 개수 |
|------|:----:|
| 🔴 Critical | 15개 |
| 🟡 High | 14개 |
| 🟢 Medium | 7개 |
| **총계** | **36개** |

### Phase별 분포

| Phase | Critical | High | Medium | 합계 |
|-------|:--------:|:----:|:------:|:----:|
| Phase 1: 개발 환경 세팅 | 3 | 4 | 1 | 8 |
| Phase 2: 인증 시스템 | 6 | 5 | 1 | 12 |
| Phase 3: 모임 데이터 & 목록 | 3 | 4 | 2 | 9 |
| Phase 4: 모임 상세 & 마이페이지 | 3 | 3 | 1 | 7 |

### 핵심 의존성 체인

```
M1-001 (개발 서버)
    ↓
M1-003 (Supabase 연결)
    ↓
M1-009 (회원가입)
    ↓
M1-012 (로그인)
    ↓
M1-021 (모임 목록)
    ↓
M1-030 (모임 상세)
```

---

## 변경 이력

| 날짜 | 버전 | 변경 내용 |
|------|------|----------|
| 2026-01-29 | 1.0 | SC-M1 최초 작성 (WP-M1에서 분리) |
